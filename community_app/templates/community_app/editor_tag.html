{% load staticfiles%}
{% block extra_head %}
    <link rel="stylesheet" type="text/css" href="{% static 'community_app/leaflet/leaflet.css' %}" />
    <link rel="stylesheet" type="text/css" href="{% static 'community_app/leaflet/draw/leaflet.draw.css' %}"/>
    <link rel="stylesheet" href="{% static 'community_app/leaflet/contextmenu/leaflet.contextmenu.css' %}"/>

    <script src="{% static 'community_app/leaflet/leaflet.js' %} "></script>
    <script src="{% static 'community_app/leaflet/draw/leaflet.draw.js' %}"> </script>
    <script src="{% static 'community_app/jquery-2.1.4/jquery.jsontotable.min.js' %}"></script>
    <script src="{% static 'community_app/leaflet/contextmenu/leaflet.contextmenu.js' %}"></script>
{% endblock extra_head %}

<div id="map" style="width: 600px; height: 400px"></div>
<div id="jsontotable" class="jsontotable"></div>
<div class="modal fade" id="myModal" role="dialog">
    <div class="modal-dialog">
      <!-- Modal content-->
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal">&times;</button>
          <h4 class="modal-title">Modal Header</h4>
        </div>
        <div class="modal-body">
          <p>Some text in the modal.</p>
            {{ form.as_p }}
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
          <button type="button" onclick="saveGeometry()" class="btn btn-default" data-dismiss="modal">Save</button>
        </div>
      </div>
    </div>
</div>
<div id="schema_field_div" hidden="true">{{ schema_field }}</div>
<div id="schema_json_str_div" hidden="true">{{ schema_json_str}}</div>
<script>
    var $schema = $("#schema_field_div");
    var $sjs = $("#schema_json_str_div");

    var url_create = "{{url_create}}";
    var url_update = "{{url_update}}";
    var url_json = "{{url_json}}";
</script>
<script src="{% static 'community_app/editor.js' %}"></script>